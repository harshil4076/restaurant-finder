{"ast":null,"code":"import { apiCall } from '../../services/api';\nimport { SEARCH_RESULT } from '../actionTypes'; //action to get user output\n\nfunction getSearchResult(data) {\n  return {\n    type: SEARCH_RESULT,\n    payload: data\n  };\n}\n\nexport function searchResults() {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      return apiCall(\"get\", `/api/${type}`, userData).then(({\n        token,\n        ...user\n      }) => {\n        localStorage.setItem(\"jwtToken\", token);\n        setAuthorizationToken(token);\n        dispatch(setCurrentUser(user));\n        dispatch(removeError());\n        resolve();\n      }).catch(err => {\n        dispatch(addError(err.message));\n        reject();\n      });\n    });\n  };\n}","map":{"version":3,"sources":["C:/Users/umipa/Desktop/myrestaurant/src/store/action/index.js"],"names":["apiCall","SEARCH_RESULT","getSearchResult","data","type","payload","searchResults","dispatch","Promise","resolve","reject","userData","then","token","user","localStorage","setItem","setAuthorizationToken","setCurrentUser","removeError","catch","err","addError","message"],"mappings":"AAAA,SAASA,OAAT,QAAwB,oBAAxB;AACA,SAASC,aAAT,QAA8B,gBAA9B,C,CAGA;;AACA,SAASC,eAAT,CAAyBC,IAAzB,EAA8B;AAC1B,SAAO;AACHC,IAAAA,IAAI,EAAEH,aADH;AAEHI,IAAAA,OAAO,EAAGF;AAFP,GAAP;AAIH;;AAED,OAAO,SAASG,aAAT,GAAwB;AAC3B,SAAO,UAASC,QAAT,EAAmB;AACtB,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,aAAOV,OAAO,CAAC,KAAD,EAAS,QAAOI,IAAK,EAArB,EAAwBO,QAAxB,CAAP,CACFC,IADE,CACG,CAAC;AAAEC,QAAAA,KAAF;AAAS,WAAGC;AAAZ,OAAD,KAAwB;AAC1BC,QAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCH,KAAjC;AACAI,QAAAA,qBAAqB,CAACJ,KAAD,CAArB;AACAN,QAAAA,QAAQ,CAACW,cAAc,CAACJ,IAAD,CAAf,CAAR;AACAP,QAAAA,QAAQ,CAACY,WAAW,EAAZ,CAAR;AACAV,QAAAA,OAAO;AACV,OAPE,EAQFW,KARE,CAQIC,GAAG,IAAI;AACVd,QAAAA,QAAQ,CAACe,QAAQ,CAACD,GAAG,CAACE,OAAL,CAAT,CAAR;AACAb,QAAAA,MAAM;AACT,OAXE,CAAP;AAYH,KAbM,CAAP;AAcK,GAfT;AAiBC","sourcesContent":["import { apiCall } from '../../services/api'\r\nimport { SEARCH_RESULT } from '../actionTypes'\r\n\r\n\r\n//action to get user output\r\nfunction getSearchResult(data){\r\n    return {\r\n        type: SEARCH_RESULT,\r\n        payload : data\r\n    }\r\n}\r\n\r\nexport function searchResults(){\r\n    return function(dispatch) {\r\n        return new Promise((resolve, reject) => {\r\n            return apiCall(\"get\", `/api/${type}`, userData)\r\n                .then(({ token, ...user }) => {\r\n                    localStorage.setItem(\"jwtToken\", token);\r\n                    setAuthorizationToken(token);\r\n                    dispatch(setCurrentUser(user));\r\n                    dispatch(removeError());\r\n                    resolve();\r\n                })\r\n                .catch(err => {\r\n                    dispatch(addError(err.message));\r\n                    reject();\r\n                })\r\n        })\r\n            }\r\n                    \r\n    }\r\n"]},"metadata":{},"sourceType":"module"}